---
title: "Homework 2"
author: "Mayuri Albal"
date: "2022-09-30"
output: github_document
---
```{r}

```

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(tidyverse)
library(dplyr)
```

```{r}
library(readxl)
```

```{r}
nyc_transit =read_csv('/Users/mayurialbal/Documents/Data Science/Homework/HW2/HW2/NYC_Transit_Subway_Entrance_And_Exit_Data.csv',
      col_types=cols(Route8 ='c', Route9 ='c', Route10 ='c', Route11 ='c'))
```

```{r}
nyc_transit %>%
  janitor::clean_names() %>%
select(line, station_name, station_latitude, station_longitude, entry, exit_only, vending,
         entrance_type, ada, starts_with("route")) %>%
  mutate(entry= ifelse(entry== 'YES', TRUE, FALSE))
```
```{r}
nyc_transit=read_csv('/Users/mayurialbal/Documents/Data Science/Homework/HW2/HW2/NYC_Transit_Subway_Entrance_And_Exit_Data.csv',
      col_types=cols(Route8 ='c', Route9 ='c', Route10 ='c', Route11 ='c')) %>%
  janitor::clean_names() %>%
select(line, station_name, station_latitude, station_longitude, entry, exit_only, vending,
         entrance_type, ada, starts_with("route")) %>%
  mutate(entry= ifelse(entry== 'YES', TRUE, FALSE))
```
Currently the data set contains the variables: line, station name, station latitude, station longitude, routes served (1-11), entry, vending, entrance type, as well as if the station is ADA compliant. In order to get to this data set, it was essential to clean the variable names from the way they were converted in order to be interpretable for R. After this, the variables that were intended to be analysed were 'selected' from the data set to be used. Lastly, the variable entry was altered in order have it read as a logic variable rather than a character
variable, thus yes was interpreted as True, and no as False. The data is not currently 'tidy' at this point as route is still appearing as NA due to its format and thus unusable until it is altered. There are currently 20 columns and 1,868 rows in the current dataset.

```{r}
nyc_transit%>%
  select(station_name,line) %>%
distinct
```
There are 465 distinct stations.

```{r}
nyc_transit %>% 
  filter(ada == TRUE) %>% 
  select(station_name, line) %>% 
  distinct
```
Of the 465 distinct stations, 84 are ADA compliant.

```{r}
nyc_transit %>% 
  filter(vending == "NO") %>% 
  pull(entry) %>% 
  mean
```
 The proportion of entrances/exits without vending allowed entrance is 0.377.

```{r}
nyc_transit %>% 
  pivot_longer(
    route1:route11,
    names_to = "route_num",
    values_to = "route") %>% 
  filter(route == "A") %>% 
  select(station_name, line) %>% 
  distinct
```
60 distinct stations serve the A train.

```{r}
nyc_transit %>% 
  pivot_longer(
    route1:route11,
    names_to = "route_num",
    values_to = "route") %>% 
  filter(route == "A", ada == TRUE) %>% 
  select(station_name, line) %>% 
  distinct
```
Of the 60 distinct stations that serve the A train, 17 are ADA compliant.

##Problem 2

```{r}
mr_trash_wheel = 
  read_excel("Trash-Wheel-Collection-Totals-7-2020-2.xlsx", 
    sheet = "Mr. Trash Wheel", col_names= TRUE) %>%
janitor::clean_names() %>%
  select(-x15, -x16,-x17) %>%
  drop_na(dumpster) %>%
  select(sports_balls) %>%
  as.numeric(sports_balls)
view(mr_trash_wheel)
```

```{r}
prof_trash_wheel = 
  read_excel("Trash-Wheel-Collection-Totals-7-2020-2.xlsx", 
    sheet = "Professor Trash Wheel", col_names= TRUE) %>%
janitor::clean_names() %>%
  drop_na(dumpster) %>%
  select(sports_balls) %>%
  as.numeric(sports_balls)
view(prof_trash_wheel)
```

##Problem 3